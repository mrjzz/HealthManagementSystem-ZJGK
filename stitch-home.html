<!DOCTYPE html>
<html lang="zh-CN"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>健康管理后台</title>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #111827;
      color: #E5E7EB;
    }
    .sidebar {
      background-color: #1F2937;
    }
    .card {
      background-color: #1F2937;
      border-radius: 0.5rem;
    }
    .chart-container {
      position: relative;
      height: 150px;
      width: 150px;
    }
  </style>
</head>
<body class="flex h-screen">
<aside class="sidebar w-64 p-4 space-y-4 flex flex-col">
<div class="flex items-center space-x-2 text-xl font-semibold mb-6">
<span class="material-icons text-blue-500">health_and_safety</span>
<h1>健康管理</h1>
</div>
<nav class="flex-grow">
<a class="flex items-center space-x-3 px-3 py-2 rounded-md text-blue-500 bg-gray-700" href="#">
<span class="material-icons">home</span>
<span>主页</span>
</a>
<a class="flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-gray-700" href="#">
<span class="material-icons">groups</span>
<span>用户管理</span>
</a>
<div class="relative">
<button class="flex items-center justify-between w-full space-x-3 px-3 py-2 rounded-md hover:bg-gray-700">
<div class="flex items-center space-x-3">
<span class="material-icons">settings</span>
<span>设备管理</span>
</div>
<span class="material-icons">expand_more</span>
</button>
</div>
<a class="flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-gray-700" href="#">
<span class="material-icons">router</span>
<span>系统设置</span>
</a>
<a class="flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-gray-700" href="#">
<span class="material-icons">warning</span>
<span>告警管理</span>
</a>
<a class="flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-gray-700" href="#">
<span class="material-icons">description</span>
<span>知识库</span>
</a>
<a class="flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-gray-700" href="#">
<span class="material-icons">admin_panel_settings</span>
<span>企业管理</span>
</a>
<a class="flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-gray-700" href="#">
<span class="material-icons">account_circle</span>
<span>用户设置</span>
</a>
<a class="flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-gray-700" href="#">
<span class="material-icons">map</span>
<span>企业地图</span>
</a>
</nav>
</aside>
<main class="flex-1 p-6 overflow-y-auto">
<header class="flex justify-between items-center mb-6">
<div class="flex items-center space-x-2 text-sm text-gray-400">
<span class="material-icons">menu</span>
<span>2025-05-26 14:29:42</span>
</div>
<h2 class="text-2xl font-semibold">中健康智能健康监测平台</h2>
<div class="flex items-center space-x-4 text-sm">
<div class="flex items-center space-x-1">
<span class="material-icons text-green-500 text-base">online_prediction</span>
<span>设备数量: 0</span>
</div>
<div class="flex items-center space-x-1">
<span class="material-icons text-yellow-500 text-base">person</span>
<span>未佩戴: 0</span>
</div>
<div class="flex items-center space-x-1">
<span class="material-icons text-red-500 text-base">warning</span>
<span>告警: 0</span>
</div>
<div class="flex items-center space-x-2">
<span class="text-gray-400">中移物联(广州)科技有限公司 | 企业管理员</span>
<span class="material-icons">arrow_drop_down</span>
</div>
</div>
</header>
<div class="grid grid-cols-7 gap-4 mb-6">
<div class="card p-4 text-center">
<p class="text-sm text-gray-400">抑郁(人)</p>
<p class="text-3xl font-bold text-blue-400">26</p>
</div>
<div class="card p-4 text-center">
<p class="text-sm text-gray-400">孤独感(人)</p>
<p class="text-3xl font-bold text-purple-400">57</p>
</div>
<div class="card p-4 text-center">
<p class="text-sm text-gray-400">劳累度(人)</p>
<p class="text-3xl font-bold text-yellow-400">352</p>
</div>
<div class="card p-4 text-center">
<p class="text-sm text-gray-400">胃癌(人)</p>
<p class="text-3xl font-bold text-orange-400">107</p>
</div>
<div class="card p-4 text-center">
<p class="text-sm text-gray-400">糖尿病(人)</p>
<p class="text-3xl font-bold text-teal-400">269</p>
</div>
<div class="card p-4 text-center">
<p class="text-sm text-gray-400">肝癌(人)</p>
<p class="text-3xl font-bold text-red-400">162</p>
</div>
<div class="card p-4 text-center">
<p class="text-sm text-gray-400">慢性阻塞性肺病(人)</p>
<p class="text-3xl font-bold text-pink-400">125</p>
</div>
<div class="card p-4 text-center">
<p class="text-sm text-gray-400">冠心病(人)</p>
<p class="text-3xl font-bold text-lime-400">165</p>
</div>
<div class="card p-4 text-center">
<p class="text-sm text-gray-400">乳腺癌(人)</p>
<p class="text-3xl font-bold text-indigo-400">189</p>
</div>
<div class="card p-4 text-center">
<p class="text-sm text-gray-400">脑卒中(人)</p>
<p class="text-3xl font-bold text-cyan-400">219</p>
</div>
</div>
<div class="grid grid-cols-3 gap-6">
<div class="col-span-1 space-y-6">
<div class="card p-4">
<h3 class="text-lg font-semibold mb-2">睡眠达标 (人)</h3>
<div class="flex items-center justify-around">
<div class="chart-container">
<canvas id="sleepChart"></canvas>
</div>
<div class="text-sm space-y-1">
<p><span class="inline-block w-3 h-3 bg-blue-500 rounded-sm mr-2"></span>达标: 0</p>
<p><span class="inline-block w-3 h-3 bg-gray-600 rounded-sm mr-2"></span>不达标: 1</p>
</div>
</div>
</div>
<div class="card p-4">
<h3 class="text-lg font-semibold mb-2">运动达标 (人)</h3>
<div class="flex items-center justify-around">
<div class="chart-container">
<canvas id="activityChart"></canvas>
</div>
<div class="text-sm space-y-1">
<p><span class="inline-block w-3 h-3 bg-red-500 rounded-sm mr-2"></span>达标: 0</p>
<p><span class="inline-block w-3 h-3 bg-gray-600 rounded-sm mr-2"></span>不达标: 1</p>
</div>
</div>
</div>
<div class="card p-4 h-[calc(150px+2*1rem+1.25rem+0.5rem)]">
<h3 class="text-lg font-semibold mb-2">健康状况 (人)</h3>
<div class="flex items-center justify-around">
<div class="chart-container">
<canvas id="healthStatusChart"></canvas>
</div>
<div class="text-sm space-y-1">
<p><span class="inline-block w-3 h-3 bg-blue-500 rounded-sm mr-2"></span>健康: 0</p>
<p><span class="inline-block w-3 h-3 bg-yellow-500 rounded-sm mr-2"></span>亚健康: 0</p>
<p><span class="inline-block w-3 h-3 bg-orange-500 rounded-sm mr-2"></span>风险人群: 0</p>
<p><span class="inline-block w-3 h-3 bg-red-500 rounded-sm mr-2"></span>不健康: 1</p>
</div>
</div>
</div>
</div>
<div class="col-span-2 grid grid-cols-2 gap-6">
<div class="card p-1 h-[calc(2*(150px+2*1rem+1.25rem+0.5rem)+1.5rem)]">
<img alt="Map placeholder showing China and surrounding areas with overlay text '未获得高德地图商用授权'" class="w-full h-full object-cover rounded-md" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDU6osWTF1svrGMvqBaxxiGRa75AQ0vS0qfEqVbfHYRu8gp8cep9YqATcjoI165ofE6rq4RLdy7WW7oduGh_FufaVfuz_y5LQGBnRIIV8VAgpGJQiiM0P3vM23Gxl3lHu6YpVflrDHojXbJ6Is7DGnSWiC-yi7FEWaGKuUd_28jbBIWXvzzBGnbZ6ErHchH21s1YFoDxYIfsDNBfPDOiUGmkr5ksHqpiC1WXdcQ-PtuYPXPPNg1C8Q9hZsktBw3ELZsGHUvGhXXv6Y"/>
</div>
<div class="space-y-6">
<div class="card p-4 h-[calc(150px+2*1rem+1.25rem+0.5rem)]">
<h3 class="text-lg font-semibold mb-2">报警记录</h3>
<div class="overflow-y-auto h-[calc(100%-2.25rem)]"> {}
<table class="w-full text-sm text-left text-gray-400">
<thead class="text-xs text-gray-300 uppercase bg-gray-700 sticky top-0">
<tr>
<th class="px-6 py-3" scope="col">报警类型</th>
<th class="px-6 py-3" scope="col">报警内容</th>
<th class="px-6 py-3" scope="col">报警时间</th>
<th class="px-6 py-3" scope="col">处理状态</th>
<th class="px-6 py-3" scope="col">操作</th>
</tr>
</thead>
<tbody>
<tr class="border-b border-gray-700">
<td class="px-6 py-4 text-center text-gray-500" colspan="5">暂无报警记录</td>
</tr>
<tr class="border-b border-gray-700">
<td class="px-6 py-4">高血压</td>
<td class="px-6 py-4">血压值偏高</td>
<td class="px-6 py-4">2025-05-26 10:00</td>
<td class="px-6 py-4 text-yellow-400">待处理</td>
<td class="px-6 py-4"><a class="text-blue-400 hover:underline" href="#">查看</a></td>
</tr>
<tr class="border-b border-gray-700">
<td class="px-6 py-4">心率异常</td>
<td class="px-6 py-4">心率过快</td>
<td class="px-6 py-4">2025-05-26 11:30</td>
<td class="px-6 py-4 text-green-400">已处理</td>
<td class="px-6 py-4"><a class="text-blue-400 hover:underline" href="#">查看</a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="card p-4 h-[calc(150px+2*1rem+1.25rem+0.5rem)]">
<h3 class="text-lg font-semibold mb-2">人员结构</h3>
<div class="flex items-center justify-around">
<div class="chart-container">
<canvas id="personnelStructureChart"></canvas>
</div>
<div class="text-sm space-y-1">
<p><span class="inline-block w-3 h-3 bg-purple-700 rounded-sm mr-2"></span>18岁以下: 0</p>
<p><span class="inline-block w-3 h-3 bg-purple-500 rounded-sm mr-2"></span>19-35: 0</p>
<p><span class="inline-block w-3 h-3 bg-purple-300 rounded-sm mr-2"></span>36-45: 0</p>
<p><span class="inline-block w-3 h-3 bg-indigo-500 rounded-sm mr-2"></span>46-59: 0</p>
<p><span class="inline-block w-3 h-3 bg-indigo-700 rounded-sm mr-2"></span>60岁以上: 0</p>
</div>
</div>
</div>
</div>
<div class="card p-4 h-[calc(150px+2*1rem+1.25rem+0.5rem)]">
<h3 class="text-lg font-semibold mb-2">设备佩戴</h3>
<canvas class="h-[calc(100%-2.25rem)]" id="deviceWearChart"></canvas>
</div>
</div>
</div>
</main>
<script>
    const commonDoughnutOptions = (percentage, color) => ({
      type: 'doughnut',
      data: {
        datasets: [{
          data: [percentage, 100 - percentage],
          backgroundColor: [color, '#4B5563'], // bg-gray-600
          borderWidth: 0,
          borderRadius: 5,
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        cutout: '70%',
        plugins: {
          legend: {
            display: false
          },
          tooltip: {
            enabled: false
          }
        },
        elements: {
          center: {
            text: percentage + '%',
            color: '#E5E7EB', // text-gray-200
            fontStyle: 'Arial',
            sidePadding: 20,
            minFontSize: 20,
            lineHeight: 25
          }
        }
      },
      plugins: [{ // Custom plugin to draw text in center
        id: 'doughnutlabel',
        beforeDraw: function(chart) {
          if (chart.config.options.elements && chart.config.options.elements.center) {
            var centerConfig = chart.config.options.elements.center;
            var ctx = chart.ctx;
            var chartArea = chart.chartArea;
            var x = (chartArea.left + chartArea.right) / 2;
            var y = (chartArea.top + chartArea.bottom) / 2;
            ctx.save();
            ctx.fillStyle = centerConfig.color;
            ctx.font = centerConfig.minFontSize + "px " + centerConfig.fontStyle;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(centerConfig.text, x, y);
            ctx.restore();
          }
        }
      }]
    });
    new Chart(
      document.getElementById('sleepChart'),
      commonDoughnutOptions(0, '#3B82F6') // bg-blue-500
    );
    new Chart(
      document.getElementById('activityChart'),
      commonDoughnutOptions(100, '#EF4444') // bg-red-500
    );
    new Chart(
      document.getElementById('healthStatusChart'), {
        type: 'doughnut',
        data: {
          datasets: [{
            data: [0, 0, 0, 100], //健康, 亚健康, 风险, 不健康
            backgroundColor: ['#3B82F6', '#F59E0B', '#F97316', '#EF4444'], // blue, yellow, orange, red
            borderWidth: 0,
            borderRadius: 5,
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          cutout: '70%',
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              enabled: false
            }
          },
          elements: {
            center: {
              text: '0.00%',
              color: '#E5E7EB',
              fontStyle: 'Arial',
              sidePadding: 20,
              minFontSize: 20,
              lineHeight: 25
            }
          }
        },
        plugins: [{
          id: 'doughnutlabelHealth',
          beforeDraw: function(chart) {
            if (chart.config.options.elements && chart.config.options.elements.center) {
              var centerConfig = chart.config.options.elements.center;
              var ctx = chart.ctx;
              var chartArea = chart.chartArea;
              var x = (chartArea.left + chartArea.right) / 2;
              var y = (chartArea.top + chartArea.bottom) / 2;
              ctx.save();
              ctx.fillStyle = centerConfig.color;
              ctx.font = centerConfig.minFontSize + "px " + centerConfig.fontStyle;
              ctx.textAlign = 'center';
              ctx.textBaseline = 'middle';
              ctx.fillText(centerConfig.text, x, y);
              ctx.restore();
            }
          }
        }]
      }
    );
    new Chart(
      document.getElementById('personnelStructureChart'), {
        type: 'doughnut',
        data: {
          datasets: [{
            data: [0, 0, 0, 0, 100], // Sample data, ideally sum to 100
            backgroundColor: ['#6B21A8', '#7E22CE', '#9333EA', '#4F46E5', '#3730A3'], // purple-700, purple-600, purple-500, indigo-600, indigo-800
            borderWidth: 0,
            borderRadius: 5,
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          cutout: '70%',
          plugins: {
            legend: {
              display: false
            },
            tooltip: {
              enabled: false
            }
          },
          elements: {
            center: {
              text: '0.00%',
              color: '#E5E7EB',
              fontStyle: 'Arial',
              sidePadding: 20,
              minFontSize: 20,
              lineHeight: 25
            }
          }
        },
        plugins: [{
          id: 'doughnutlabelPersonnel',
          beforeDraw: function(chart) {
            if (chart.config.options.elements && chart.config.options.elements.center) {
              var centerConfig = chart.config.options.elements.center;
              var ctx = chart.ctx;
              var chartArea = chart.chartArea;
              var x = (chartArea.left + chartArea.right) / 2;
              var y = (chartArea.top + chartArea.bottom) / 2;
              ctx.save();
              ctx.fillStyle = centerConfig.color;
              ctx.font = centerConfig.minFontSize + "px " + centerConfig.fontStyle;
              ctx.textAlign = 'center';
              ctx.textBaseline = 'middle';
              ctx.fillText(centerConfig.text, x, y);
              ctx.restore();
            }
          }
        }]
      }
    );
    new Chart(
      document.getElementById('deviceWearChart'), {
        type: 'bar',
        data: {
          labels: ['0h-1h', '1h-2h', '2h-3h', '3h-4h', '4h-5h', '5h-6h', '6h-7h', '8h'],
          datasets: [{
            label: '设备佩戴',
            data: [120, 200, 150, 80, 70, 110, 130, 60],
            backgroundColor: '#3B82F6', // bg-blue-500
            borderColor: '#3B82F6',
            borderWidth: 1,
            borderRadius: 5,
            barPercentage: 0.6,
            categoryPercentage: 0.7
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: '#374151' // bg-gray-700
              },
              ticks: {
                color: '#9CA3AF' // text-gray-400
              }
            },
            x: {
              grid: {
                display: false
              },
              ticks: {
                color: '#9CA3AF' // text-gray-400
              }
            }
          },
          plugins: {
            legend: {
              display: false
            }
          }
        }
      }
    );
  </script>
</body></html>